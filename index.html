<!doctype html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞</title>
  <meta name="theme-color" content="#F5F5DC" />
  <style>
    :root{
      --bg:#F5F5DC;
      --ink:#1b1b1b;
      --muted:#4b4b4b;
      --card:rgba(255,255,255,.66);
      --stroke:rgba(27,27,27,.16);
      --shadow: 0 18px 45px rgba(0,0,0,.10);
      --radius: 22px;
      --serif: Georgia, "Times New Roman", Times, serif;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      font-family:var(--serif);
      background:var(--bg);
      color:var(--ink);
      -webkit-font-smoothing:antialiased;
      text-rendering:geometricPrecision;
      font-size: 18px;
    }

    .page{
      min-height:100%;
      padding: calc(14px + env(safe-area-inset-top)) 16px calc(120px + env(safe-area-inset-bottom)) 16px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    header{
      position:sticky; top:0; z-index:10;
      background: linear-gradient(to bottom, var(--bg) 70%, rgba(245,245,220,0));
      padding-top: env(safe-area-inset-top);
      padding-bottom:10px;
      backdrop-filter: blur(6px);
    }
    .topbar{
      max-width:980px;
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{line-height:1.05;}
    .brand .title{font-size:clamp(22px,2.6vw,30px); letter-spacing:.2px;}
    .brand .subtitle{margin-top:4px; color:var(--muted); font-size:clamp(13px,1.9vw,15px);}

    /* --- Actions (—è–∑—ã–∫–∏ + –∫–Ω–æ–ø–∫–∞ –≥–∞–ª–µ—Ä–µ–∏) --- */
    .actions{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .lang{
      display:flex; gap:8px;
      background: rgba(255,255,255,.55);
      border:1px solid var(--stroke);
      border-radius:999px;
      padding:6px;
      box-shadow: 0 8px 22px rgba(0,0,0,.06);
    }
    .lang button{
      border:0; background:transparent; cursor:pointer;
      font-family:var(--serif);
      font-size:15px;
      padding:8px 12px;
      border-radius:999px;
      color:var(--muted);
      transition: transform .08s ease, background .2s ease, color .2s ease;
      user-select:none;
    }
    .lang button:hover{transform: translateY(-1px);}
    .lang button.active{background: rgba(27,27,27,.08); color:var(--ink);}

    /* --- –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ö–ù–û–ü–ö–ê "–ì–ê–õ–ï–†–ï–Ø" –ü–û–î –¶–í–ï–¢ –°–ê–ô–¢–ê --- */
    .galleryBtn{
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.55);
      color: var(--ink);
      box-shadow: 0 8px 22px rgba(0,0,0,.06);
      font-size:15px;
      line-height:1;
      transition: transform .08s ease, background .2s ease, box-shadow .2s ease;
      white-space:nowrap;
    }
    .galleryBtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.72);
      box-shadow: 0 10px 26px rgba(0,0,0,.08);
    }
    .galleryBtn:active{
      transform: translateY(0px);
    }

    main{max-width:980px; margin:0 auto; width:100%; display:grid; grid-template-columns:1fr; gap:14px;}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }
    .hero{text-align:center; padding:18px 18px 12px;}
    .hero h1{margin:0 0 10px; font-weight:700; font-size:clamp(26px,3.8vw,42px);}
    .hero p{margin:0 auto; max-width:68ch; color:var(--muted); font-size:clamp(18px,2.2vw,20px); line-height:1.55;}

    /* Bigger, readable main text */
    .textblock h2{margin:0; font-size:clamp(20px,2.6vw,24px);}
    .textblock p{margin:0; line-height:1.78; font-size:clamp(19px,2.25vw,22px);}
    .textblock .muted{color:var(--muted);}
    .textblock ul{margin:0; padding-inline-start:1.2em; line-height:1.78; color:var(--muted); font-size:clamp(18px,2.2vw,20px);}
    .divider{height:1px; background: rgba(27,27,27,.12); margin:12px 0;}

    footer{max-width:980px; margin:0 auto; width:100%;}
    .footer-note{text-align:center; font-size:15px; color: rgba(27,27,27,.70); padding:10px 0 0;}
    .commentsTitle{margin: 0 0 10px; color: var(--muted); font-size:15px;}
    #cusdis_thread{
      background: rgba(255,255,255,.55);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    /* --- Bottom scene (tree + walking cow) --- */
    .scene{
      position: fixed;
      left: 0; right: 0;
      bottom: 0;
      height: 98px;
      pointer-events:none;
      z-index: 9;
    }
    .scene::before{
      content:"";
      position:absolute; left:0; right:0; bottom:0;
      height: 98px;
      background: linear-gradient(to top, rgba(245,245,220,1), rgba(245,245,220,0));
    }
    .grassline{
      position:absolute; left:0; right:0; bottom: 24px;
      height:1px; background: rgba(27,27,27,.14);
    }

    .tree{
      position:absolute;
      left: 12px;
      bottom: 10px;
      width: 96px;
      height: 96px;
      opacity: .98;
    }
    @media (min-width: 860px){
      .tree{ left: 40px; width: 108px; height: 108px; }
    }

    .cowWrap{
      position:absolute;
      bottom: 0px;
      width: 106px;
      height: 106px;
      transform: translateX(0);
      transition: transform 1.35s cubic-bezier(.2,.8,.2,1);
      pointer-events:auto;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    @media (min-width: 860px){
      .cowWrap{ width: 122px; height:122px; }
    }

    /* flip + scale handled in JS */
    .cowSvg{
      width:100%; height:100%;
      filter: drop-shadow(0 12px 14px rgba(0,0,0,.14));
      transform-origin: 50% 70%;
    }

    .bubble{
      position: fixed;
      bottom: 140px;
      max-width: min(82vw, 420px);
      background: rgba(255,255,255,.82);
      border: 1px solid rgba(27,27,27,.16);
      border-radius: 18px;
      padding: 12px 14px;
      box-shadow: 0 12px 30px rgba(0,0,0,.09);
      font-size: 18px;
      line-height: 1.35;
      display:none;
      z-index: 11;
    }
    .bubble::after{
      content:"";
      position:absolute;
      bottom:-10px;
      inset-inline-start: 22px;
      width: 18px; height: 18px;
      background: rgba(255,255,255,.82);
      border-left: 1px solid rgba(27,27,27,.16);
      border-bottom: 1px solid rgba(27,27,27,.16);
      transform: rotate(45deg);
      border-bottom-left-radius: 6px;
    }

    /* RTL tweaks */
    html[dir="rtl"] .brand { text-align:right; }
    html[dir="rtl"] .hero { text-align:right; }
    html[dir="rtl"] .hero p { margin-inline-start:0; }
    html[dir="rtl"] .textblock { text-align:right; }
    html[dir="rtl"] .textblock ul { padding-inline-start:0; padding-inline-end:1.2em; }
    html[dir="rtl"] .bubble { text-align:right; }
    html[dir="rtl"] .bubble::after { inset-inline-start:auto; inset-inline-end: 22px; }

    /* Cow micro-animations */
    @keyframes bob { 0%,100%{transform: translateY(0)} 50%{transform: translateY(-3px)} }
    .cowBody { transform-origin: 50% 78%; animation: bob 2.0s ease-in-out infinite; }

    /* walking */
    @keyframes walkLegF { 0%,100%{transform: rotate(9deg)} 50%{transform: rotate(-10deg)} }
    @keyframes walkLegB { 0%,100%{transform: rotate(-9deg)} 50%{transform: rotate(10deg)} }
    .isWalk .legFront { transform-origin: 50% 0%; animation: walkLegF .55s ease-in-out infinite; }
    .isWalk .legBack  { transform-origin: 50% 0%; animation: walkLegB .55s ease-in-out infinite; }

    /* chew */
    @keyframes chew { 0%,100%{transform: translateY(0) rotate(0)} 50%{transform: translateY(1px) rotate(1deg)} }
    .isChew .jaw { transform-origin: 50% 50%; animation: chew .55s ease-in-out infinite; }
    .isChew .grass { opacity:1; animation: chew .55s ease-in-out infinite reverse; }

    /* scratch (sit + hoof to udder) */
    @keyframes sit { 0%,100%{transform: translateY(0)} 50%{transform: translateY(5px)} }
    @keyframes scratch { 0%,100%{transform: rotate(0) translateY(0)} 50%{transform: rotate(-14deg) translateY(-4px)} }
    .isScratch .cowBody { animation: sit .65s ease-in-out infinite; }
    .isScratch .rearLegScratch { transform-origin: 60% 12%; animation: scratch .42s ease-in-out infinite; }
    .isScratch .udder { transform-origin: 60% 50%; animation: chew .42s ease-in-out infinite; }

    /* smile */
    @keyframes blink { 0%,92%,100%{transform: scaleY(1)} 94%,96%{transform: scaleY(.12)} }
    .isSmile .eye { transform-origin:center; animation: blink 3.2s ease-in-out infinite; }
    .isSmile .mouthHappy { opacity:1; }

    .grass{opacity:0;}
    .mouthHappy{opacity:0;}
  </style>
</head>

<body>
  <div class="page">
    <header>
      <div class="topbar">
        <div class="brand">
          <div class="title" data-i18n="siteTitle">–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞</div>
          <div class="subtitle" data-i18n="siteTagline">–ú–æ–π –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ üåø</div>
        </div>

        <!-- –í–û–¢ –¢–£–¢: —è–∑—ã–∫–∏ + –∫–Ω–æ–ø–∫–∞ –≥–∞–ª–µ—Ä–µ–∏ -->
        <div class="actions">
          <nav class="lang" aria-label="Language switcher">
            <button type="button" class="active" data-lang="ru">RU</button>
            <button type="button" data-lang="en">EN</button>
            <button type="button" data-lang="he">HE</button>
          </nav>

          <a class="galleryBtn" href="gallery.html">–ì–∞–ª–µ—Ä–µ—è</a>
        </div>
      </div>
    </header>

    <main>
      <section class="card hero">
        <h1 data-i18n="headline">–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞: –ú–æ–π –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ üåø</h1>
        <p data-i18n="subhead">–¢–∏—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —è—Å–Ω–æ—Å—Ç–∏: –ø–∏—Ç–∞–Ω–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ, –∏ –Ω–µ–º–Ω–æ–≥–æ —é–º–æ—Ä–∞ ‚Äî —á—Ç–æ–±—ã –¥–µ—Ä–∂–∞—Ç—å –∫—É—Ä—Å.</p>
      </section>

      <article class="card textblock" aria-label="Main text">
        <h2 data-i18n="hHello">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ.</h2>
        <p data-i18n="pHello">
          –≠—Ç–æ—Ç —Å–∞–π—Ç ‚Äî –Ω–µ —Ç–µ–æ—Ä–∏—è –∏ –Ω–µ –ª–æ–∑—É–Ω–≥. –≠—Ç–æ —Ç–∏—Ö–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä –æ —Ç–æ–º, –∫–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Å–µ–±–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç.
        </p>

        <div class="divider"></div>

        <h2 data-i18n="hStart">–° —á–µ–≥–æ –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å</h2>
        <p data-i18n="pStart">
          –ö–æ–≥–¥–∞-—Ç–æ —è –∂–∏–ª –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–∞–∑–º—ã—Ç–æ—Å—Ç–∏ ‚Äî –±—É–¥—Ç–æ –Ω–∞ —Å—Ç–µ–∫–ª–µ —Å–æ–∑–Ω–∞–Ω–∏—è –ª–µ–∂–∞–ª —Ç–æ–Ω–∫–∏–π —Å–ª–æ–π –ø—ã–ª–∏.
          –°–∏–ª—ã —É—Ö–æ–¥–∏–ª–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–ª–µ–±–∞–ª–æ—Å—å, –∞ —Ç–µ–ª–æ –∫–∞–∑–∞–ª–æ—Å—å —Ç—è–∂—ë–ª—ã–º, —Å–ª–æ–≤–Ω–æ –Ω–æ—Å–∏–ª–æ –ª–∏—à–Ω–∏–π –≥—Ä—É–∑.
          –Ø –Ω–∞—á–∞–ª —É–±–∏—Ä–∞—Ç—å –∏–∑ –∂–∏–∑–Ω–∏ —Ç–æ, —á—Ç–æ —ç—Ç–æ—Ç –≥—Ä—É–∑ —Å–æ–∑–¥–∞—ë—Ç: —Å–∞—Ö–∞—Ä, —Ö–ª–µ–±, –º–æ–ª–æ–∫–æ, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—Ä—É–∫—Ç–æ–≤ –∏ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã.
          –°–ø–æ–∫–æ–π–Ω–æ –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ ‚Äî –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞ –∏ –±–µ–∑ —Ä–µ–∑–∫–∏—Ö —Ä—ã–≤–∫–æ–≤.
        </p>

        <div class="divider"></div>

        <h2 data-i18n="hChange">–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å</h2>
        <ul data-i18n-list="changes">
          <li>–Ø –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—â—É—â–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Å–ª–∞–±–æ—Å—Ç—å –∏ —Ç—è–∂–µ—Å—Ç—å ‚Äî –≥–æ–ª–æ–≤–∞ —Å—Ç–∞–ª–∞ —è—Å–Ω–µ–µ.</li>
          <li>–Ø –ø—Ä–æ—Å—ã–ø–∞—é—Å—å –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ 5 —É—Ç—Ä–∞ –±–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–æ—Ä—å–±—ã.</li>
          <li>–ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –∏–¥—É –Ω–∞ —Ç—Ä–µ–Ω–∞–∂—ë—Ä—ã, –ø–æ—Ç–æ–º ‚Äî –ø–µ—à–∫–æ–º –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Å—å –¥–æ–º–æ–π –ª–µ–≥–∫–æ.</li>
          <li>–ö–æ–≥–¥–∞ —É–±–∏—Ä–∞–µ—à—å –ª–∏—à–Ω–µ–µ, –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–æ–≤–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è ‚Äî –±–µ–∑ —Å–ª–∞–¥–∫–∏—Ö –∫–∞—á–µ–ª–µ–π.</li>
        </ul>

        <p class="muted" data-i18n="pPrecision">
          –Ø –Ω–µ –ø—Ä–æ–ø–æ–≤–µ–¥—É—é. –Ø –ø—Ä–æ—Å—Ç–æ –≤—ã–±–∏—Ä–∞—é –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å ‚Äî —á—Ç–æ–±—ã –∂–∏—Ç—å —Å–ø–æ–∫–æ–π–Ω–µ–µ –∏ —á–∏—â–µ.
        </p>

        <div class="divider"></div>

        <h2 data-i18n="hDay">–ú–æ–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –¥–≤–∏–∂–µ–Ω–∏–µ</h2>
        <p data-i18n="pDay">
          –î–≤–∏–∂–µ–Ω–∏–µ –¥–ª—è –º–µ–Ω—è ‚Äî –Ω–µ ‚Äú—Å–ø–æ—Ä—Ç —Ä–∞–¥–∏ —Å–ø–æ—Ä—Ç–∞‚Äù, –∞ —Å–ø–æ—Å–æ–± –¥–µ—Ä–∂–∞—Ç—å —Ç–µ–ª–æ –∏ –≥–æ–ª–æ–≤—É –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ç–æ–Ω–µ.
          –¢—Ä–µ–Ω–∞–∂—ë—Ä—ã –¥–∞—é—Ç —Å–∏–ª—É, –ø–∏–ª–∞—Ç–µ—Å ‚Äî —Å–ø–∏–Ω—É –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å, —Ö–æ–¥—å–±–∞ ‚Äî –ø—Ä–∏—Ä–æ–¥–Ω—É—é —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.
        </p>

        <div class="divider"></div>

        <h2 data-i18n="hEssence">–í —á—ë–º —Å—É—Ç—å</h2>
        <p data-i18n="pEssence">
          –í –º–∏—Ä–µ –º–Ω–æ–≥–æ —à—É–º–∞ –∏ –ª–∏—à–Ω–µ–≥–æ. –ê –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–∏—Ö —à–∞–≥–æ–≤.
          –ï—Å–ª–∏ –≤–∞–º –±–ª–∏–∑–∫–∞ —ç—Ç–∞ –∏–¥–µ—è ‚Äî –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å.
        </p>
      </article>
    </main>

    <footer>
      <div class="commentsTitle" data-i18n="commentsTitle">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>

      <div id="cusdis_thread"
        data-host="https://cusdis.com"
        data-app-id="de1e330b-03ee-413c-a947-7542f49aaf75"
        data-page-id="{{ PAGE_ID }}"
        data-page-url="{{ PAGE_URL }}"
        data-page-title="{{ PAGE_TITLE }}"
      ></div>

      <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

      <div class="footer-note" id="footerNote">–°–∞–π—Ç —Å–æ–∑–¥–∞–Ω —Å–µ–≥–æ–¥–Ω—è –∑–∞ 30 –º–∏–Ω—É—Ç. –î–∞—Ç–∞: 04.02.2026.</div>
    </footer>
  </div>

  <!-- Bottom scene -->
  <div class="scene" aria-hidden="true">
    <div class="grassline"></div>

    <!-- Apple tree (SVG) -->
    <svg class="tree" viewBox="0 0 120 120" role="img" aria-label="Apple tree">
      <defs>
        <radialGradient id="leafg" cx="35%" cy="30%" r="70%">
          <stop offset="0" stop-color="#86c56a" />
          <stop offset="1" stop-color="#4f7f35" />
        </radialGradient>
      </defs>
      <path d="M58 112 C56 96, 55 82, 56 70 C57 58, 52 46, 45 38 C42 35, 43 30, 47 30
               C58 30, 67 41, 70 54 C72 63, 72 74, 70 88 C69 98, 70 106, 73 112 Z"
            fill="#6b4c31" opacity="0.98"/>
      <circle cx="60" cy="46" r="36" fill="url(#leafg)" stroke="rgba(27,27,27,.18)" stroke-width="2"/>
      <circle cx="36" cy="58" r="22" fill="url(#leafg)" opacity="0.95"/>
      <circle cx="84" cy="60" r="22" fill="url(#leafg)" opacity="0.95"/>

      <!-- apples with ids -->
      <circle id="apple1" cx="45" cy="44" r="6.2" fill="#c84a3a" />
      <circle id="apple2" cx="76" cy="50" r="6.2" fill="#c84a3a" />
      <circle id="apple3" cx="62" cy="70" r="6.2" fill="#c84a3a" />
      <path d="M45 36 C46 32, 50 30, 54 31" fill="none" stroke="#2f5f2d" stroke-width="2" stroke-linecap="round"/>
      <path d="M76 42 C77 38, 81 36, 85 37" fill="none" stroke="#2f5f2d" stroke-width="2" stroke-linecap="round"/>
    </svg>

    <!-- Cow (SVG) -->
    <div class="cowWrap isChew" id="cowWrap" role="button" aria-label="Cow">
      <svg class="cowSvg" viewBox="0 0 140 140" aria-hidden="true" id="cowSvg">
        <defs>
          <linearGradient id="milkBody" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0" stop-color="#fff9f2"/>
            <stop offset="1" stop-color="#efe2d3"/>
          </linearGradient>
          <linearGradient id="spot" x1="0" x2="1">
            <stop offset="0" stop-color="#7b5a3a"/>
            <stop offset="1" stop-color="#5f442c"/>
          </linearGradient>
        </defs>

        <g class="cowBody">
          <ellipse cx="78" cy="128" rx="44" ry="9" fill="rgba(0,0,0,.10)"/>
          <path d="M120 78 C133 84, 134 100, 122 108" fill="none" stroke="rgba(27,27,27,.28)" stroke-width="5" stroke-linecap="round"/>
          <path d="M123 108 C128 110, 130 116, 125 120 C119 125, 112 122, 113 116" fill="#d9a7a7" stroke="rgba(27,27,27,.18)" stroke-width="2"/>

          <path d="M52 58
                   C54 40, 70 30, 90 32
                   C114 35, 128 52, 124 76
                   C120 98, 104 112, 84 112
                   C64 112, 50 98, 50 82
                   Z"
                fill="url(#milkBody)" stroke="rgba(27,27,27,.22)" stroke-width="3" />

          <path d="M72 48 C63 50, 60 60, 67 67 C75 75, 92 68, 88 56 C85 48, 79 46, 72 48 Z" fill="url(#spot)" opacity=".92"/>
          <path d="M98 70 C90 72, 88 84, 96 90 C106 98, 122 86, 116 74 C112 66, 106 68, 98 70 Z" fill="url(#spot)" opacity=".92"/>

          <path d="M50 78 C36 76, 34 90, 44 100 C54 110, 66 104, 64 92" fill="url(#milkBody)" stroke="rgba(27,27,27,.22)" stroke-width="3" />

          <path d="M22 86
                   C18 66, 34 52, 54 56
                   C72 60, 78 76, 72 94
                   C66 112, 48 116, 34 110
                   C26 106, 23 98, 22 86 Z"
                fill="url(#milkBody)" stroke="rgba(27,27,27,.22)" stroke-width="3" />

          <path d="M48 58 C44 54, 40 54, 36 57 C34 58, 33 56, 35 54
                   C40 48, 50 48, 56 54 C58 56, 56 58, 54 57
                   C52 56, 50 57, 48 58 Z"
                fill="#caa07a" opacity=".9" stroke="rgba(27,27,27,.10)" stroke-width="1"/>

          <path d="M36 62 C26 56, 14 60, 13 70 C12 80, 22 86, 32 80" fill="#f1d9c7" stroke="rgba(27,27,27,.16)" stroke-width="2"/>
          <path d="M62 66 C74 62, 84 70, 82 82 C80 92, 70 96, 60 88" fill="#f1d9c7" stroke="rgba(27,27,27,.16)" stroke-width="2"/>

          <path d="M40 54 C38 46, 48 44, 52 50" fill="none" stroke="rgba(27,27,27,.22)" stroke-width="3.2" stroke-linecap="round"/>
          <path d="M56 54 C60 48, 70 50, 66 58" fill="none" stroke="rgba(27,27,27,.22)" stroke-width="3.2" stroke-linecap="round"/>

          <path d="M30 96 C34 86, 50 84, 60 88 C70 92, 72 104, 64 110
                   C56 116, 40 116, 32 108 C28 104, 28 100, 30 96 Z"
                fill="#d9a7a7" stroke="rgba(27,27,27,.16)" stroke-width="2.4"/>
          <ellipse cx="44" cy="104" rx="3.2" ry="2.2" fill="rgba(27,27,27,.42)"/>
          <ellipse cx="56" cy="106" rx="3.2" ry="2.2" fill="rgba(27,27,27,.42)"/>

          <g class="eye">
            <ellipse cx="38" cy="78" rx="8.6" ry="9.2" fill="#fff" opacity=".96"/>
            <circle cx="40" cy="80" r="4.3" fill="#1b1b1b"/>
            <circle cx="38.8" cy="78.6" r="1.4" fill="#fff" opacity=".9"/>
            <path d="M31 70 L26 66" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
            <path d="M35 68 L33 62" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
            <path d="M40 68 L41 62" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
          </g>
          <g class="eye">
            <ellipse cx="60" cy="82" rx="8.6" ry="9.2" fill="#fff" opacity=".96"/>
            <circle cx="61.8" cy="84" r="4.3" fill="#1b1b1b"/>
            <circle cx="60.5" cy="82.6" r="1.4" fill="#fff" opacity=".9"/>
            <path d="M53 74 L49 70" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
            <path d="M57 72 L56 66" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
            <path d="M62 72 L64 66" stroke="rgba(27,27,27,.45)" stroke-width="2" stroke-linecap="round"/>
          </g>

          <path d="M40 112 C48 120, 58 118, 62 110" fill="none" stroke="rgba(27,27,27,.44)" stroke-width="3" stroke-linecap="round"/>
          <path class="mouthHappy" d="M36 110 C46 124, 62 122, 66 106" fill="none" stroke="rgba(27,27,27,.62)" stroke-width="3.6" stroke-linecap="round"/>

          <g class="jaw">
            <path d="M28 108 C34 116, 52 120, 66 114" fill="none" stroke="rgba(27,27,27,.20)" stroke-width="4" stroke-linecap="round"/>
          </g>

          <g class="grass">
            <path d="M12 110 C4 112, 4 122, 13 124 C20 126, 24 118, 19 114 C17 112, 15 109, 12 110 Z"
                  fill="#6aa84f" stroke="rgba(27,27,27,.14)" stroke-width="2"/>
            <path d="M12 118 C16 118, 18 121, 20 123" fill="none" stroke="rgba(27,27,27,.12)" stroke-width="1.6" stroke-linecap="round"/>
          </g>

          <g class="legFront">
            <path d="M72 108 C70 118, 74 126, 82 126 C90 126, 90 116, 88 108" fill="url(#milkBody)" stroke="rgba(27,27,27,.20)" stroke-width="2.6"/>
            <rect x="76" y="124" width="12" height="4.8" rx="2.4" fill="#6b4c31"/>
          </g>

          <g class="legFront">
            <path d="M90 108 C88 118, 92 126, 100 126 C108 126, 108 116, 106 108" fill="url(#milkBody)" stroke="rgba(27,27,27,.20)" stroke-width="2.6"/>
            <rect x="94" y="124" width="12" height="4.8" rx="2.4" fill="#6b4c31"/>
          </g>

          <g class="legBack">
            <path d="M104 104 C102 114, 106 126, 116 126 C124 126, 124 114, 120 106" fill="url(#milkBody)" stroke="rgba(27,27,27,.20)" stroke-width="2.6"/>
            <rect x="110" y="124" width="12" height="4.8" rx="2.4" fill="#6b4c31"/>
          </g>

          <g class="legBack rearLegScratch">
            <path d="M112 96 C124 104, 124 126, 112 126 C104 126, 100 114, 106 104" fill="url(#milkBody)" stroke="rgba(27,27,27,.20)" stroke-width="2.6"/>
            <rect x="108" y="124" width="12" height="4.8" rx="2.4" fill="#6b4c31"/>
          </g>

          <g class="udder">
            <path d="M92 100 C94 90, 104 88, 112 92 C120 96, 122 106, 116 112
                     C110 118, 98 118, 94 110 C92 106, 91 103, 92 100 Z"
                  fill="#d9a7a7" stroke="rgba(27,27,27,.16)" stroke-width="2.3"/>
            <circle cx="101" cy="114" r="2.2" fill="rgba(27,27,27,.18)"/>
            <circle cx="110" cy="115" r="2.2" fill="rgba(27,27,27,.18)"/>
          </g>
        </g>
      </svg>
    </div>
  </div>

  <div class="bubble" id="bubble"></div>

  <script>
    const DATE_STR = "04.02.2026";

    const i18n = {
      ru: {
        dir: "ltr",
        siteTitle: "–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞",
        siteTagline: "–ú–æ–π –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ üåø",
        headline: "–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞: –ú–æ–π –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ üåø",
        subhead: "–¢–∏—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —è—Å–Ω–æ—Å—Ç–∏: –ø–∏—Ç–∞–Ω–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ, –∏ –Ω–µ–º–Ω–æ–≥–æ —é–º–æ—Ä–∞ ‚Äî —á—Ç–æ–±—ã –¥–µ—Ä–∂–∞—Ç—å –∫—É—Ä—Å.",
        hHello: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ.",
        pHello: "–≠—Ç–æ—Ç —Å–∞–π—Ç ‚Äî –Ω–µ —Ç–µ–æ—Ä–∏—è –∏ –Ω–µ –ª–æ–∑—É–Ω–≥. –≠—Ç–æ —Ç–∏—Ö–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä –æ —Ç–æ–º, –∫–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Å–µ–±–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç.",
        hStart: "–° —á–µ–≥–æ –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å",
        pStart: "–ö–æ–≥–¥–∞-—Ç–æ —è –∂–∏–ª –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–∞–∑–º—ã—Ç–æ—Å—Ç–∏ ‚Äî –±—É–¥—Ç–æ –Ω–∞ —Å—Ç–µ–∫–ª–µ —Å–æ–∑–Ω–∞–Ω–∏—è –ª–µ–∂–∞–ª —Ç–æ–Ω–∫–∏–π —Å–ª–æ–π –ø—ã–ª–∏. –°–∏–ª—ã —É—Ö–æ–¥–∏–ª–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–ª–µ–±–∞–ª–æ—Å—å, –∞ —Ç–µ–ª–æ –∫–∞–∑–∞–ª–æ—Å—å —Ç—è–∂—ë–ª—ã–º, —Å–ª–æ–≤–Ω–æ –Ω–æ—Å–∏–ª–æ –ª–∏—à–Ω–∏–π –≥—Ä—É–∑. –Ø –Ω–∞—á–∞–ª —É–±–∏—Ä–∞—Ç—å –∏–∑ –∂–∏–∑–Ω–∏ —Ç–æ, —á—Ç–æ —ç—Ç–æ—Ç –≥—Ä—É–∑ —Å–æ–∑–¥–∞—ë—Ç: —Å–∞—Ö–∞—Ä, —Ö–ª–µ–±, –º–æ–ª–æ–∫–æ, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—Ä—É–∫—Ç–æ–≤ –∏ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã. –°–ø–æ–∫–æ–π–Ω–æ –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ ‚Äî –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞ –∏ –±–µ–∑ —Ä–µ–∑–∫–∏—Ö —Ä—ã–≤–∫–æ–≤.",
        hChange: "–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å",
        changes: [
          "–Ø –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—â—É—â–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Å–ª–∞–±–æ—Å—Ç—å –∏ —Ç—è–∂–µ—Å—Ç—å ‚Äî –≥–æ–ª–æ–≤–∞ —Å—Ç–∞–ª–∞ —è—Å–Ω–µ–µ.",
          "–Ø –ø—Ä–æ—Å—ã–ø–∞—é—Å—å –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ 5 —É—Ç—Ä–∞ –±–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–æ—Ä—å–±—ã.",
          "–ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –∏–¥—É –Ω–∞ —Ç—Ä–µ–Ω–∞–∂—ë—Ä—ã, –ø–æ—Ç–æ–º ‚Äî –ø–µ—à–∫–æ–º –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Å—å –¥–æ–º–æ–π –ª–µ–≥–∫–æ.",
          "–ö–æ–≥–¥–∞ —É–±–∏—Ä–∞–µ—à—å –ª–∏—à–Ω–µ–µ, –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–æ–≤–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è ‚Äî –±–µ–∑ —Å–ª–∞–¥–∫–∏—Ö –∫–∞—á–µ–ª–µ–π."
        ],
        pPrecision: "–Ø –Ω–µ –ø—Ä–æ–ø–æ–≤–µ–¥—É—é. –Ø –ø—Ä–æ—Å—Ç–æ –≤—ã–±–∏—Ä–∞—é –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å ‚Äî —á—Ç–æ–±—ã –∂–∏—Ç—å —Å–ø–æ–∫–æ–π–Ω–µ–µ –∏ —á–∏—â–µ.",
        hDay: "–ú–æ–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –¥–≤–∏–∂–µ–Ω–∏–µ",
        pDay: "–î–≤–∏–∂–µ–Ω–∏–µ –¥–ª—è –º–µ–Ω—è ‚Äî –Ω–µ ‚Äú—Å–ø–æ—Ä—Ç —Ä–∞–¥–∏ —Å–ø–æ—Ä—Ç–∞‚Äù, –∞ —Å–ø–æ—Å–æ–± –¥–µ—Ä–∂–∞—Ç—å —Ç–µ–ª–æ –∏ –≥–æ–ª–æ–≤—É –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ç–æ–Ω–µ. –¢—Ä–µ–Ω–∞–∂—ë—Ä—ã –¥–∞—é—Ç —Å–∏–ª—É, –ø–∏–ª–∞—Ç–µ—Å ‚Äî —Å–ø–∏–Ω—É –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å, —Ö–æ–¥—å–±–∞ ‚Äî –ø—Ä–∏—Ä–æ–¥–Ω—É—é —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.",
        hEssence: "–í —á—ë–º —Å—É—Ç—å",
        pEssence: "–í –º–∏—Ä–µ –º–Ω–æ–≥–æ —à—É–º–∞ –∏ –ª–∏—à–Ω–µ–≥–æ. –ê –ø—É—Ç—å –∫ —è—Å–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–∏—Ö —à–∞–≥–æ–≤. –ï—Å–ª–∏ –≤–∞–º –±–ª–∏–∑–∫–∞ —ç—Ç–∞ –∏–¥–µ—è ‚Äî –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å.",
        commentsTitle: "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",
        footerNote: `–°–∞–π—Ç —Å–æ–∑–¥–∞–Ω —Å–µ–≥–æ–¥–Ω—è –∑–∞ 30 –º–∏–Ω—É—Ç. –î–∞—Ç–∞: ${DATE_STR}.`,
        bubble: {
          chew: "–ñ—É—é —è–±–ª–æ–∫–æ –∏ —Ç—Ä–∞–≤–∏–Ω–∫—É. –°–∞—Ö–∞—Ä ‚Äî –º–∏–º–æ. –õ–µ–≥–∫–æ –∂–∏—Ç—å ‚Äî –ø—Ä–∏—è—Ç–Ω–æ –∂–∏—Ç—å.",
          scratch: "–°–µ–ª–∞ –ø–æ-–¥–æ–º–∞—à–Ω–µ–º—É. –ß–µ—à—É –≤—ã–º—è –∫–æ–ø—ã—Ç–æ–º ‚Äî –∏ —É–ª—ã–±–∞—é—Å—å —Ä–µ—Å–Ω–∏—Ü–∞–º–∏.",
          smile: "–£–ª—ã–±–∞—é—Å—å. –¢—ã –¥–µ—Ä–∂–∏—à—å –∫—É—Ä—Å ‚Äî —è –¥–µ—Ä–∂—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.",
          eat: "–û! –Ø–±–ª–æ—á–∫–æ! –°–µ–π—á–∞—Å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ‚Ä¶",
          idle: "–≠–π‚Ä¶ —Ç—ã –∑–∞–≤–∏—Å? –ü–æ—à–ª–∏ –¥–≤–∏–≥–∞—Ç—å—Å—è. –õ—ë–≥–∫–æ—Å—Ç—å —Å–∞–º–∞ —Å–µ–±—è –Ω–µ —Å–¥–µ–ª–∞–µ—Ç."
        }
      },
      en: {
        dir: "ltr",
        siteTitle: "Derevyashkin System",
        siteTagline: "My path to clarity üåø",
        headline: "Derevyashkin System: My path to clarity üåø",
        subhead: "A quiet practice: food, movement, and a bit of humor ‚Äî to keep the course.",
        hHello: "Hello.",
        pHello: "This site isn‚Äôt a manifesto. It‚Äôs a calm talk about getting your inner light back.",
        hStart: "How it started",
        pStart: "I used to feel blurred ‚Äî like a thin layer of dust on the glass of awareness. Energy leaked, mood swung, and the body carried extra weight. I started removing what creates that load: sugar, bread, milk, most fruits, and processed foods ‚Äî calmly and carefully.",
        hChange: "What changed",
        changes: [
          "Less weakness and heaviness ‚Äî clearer head.",
          "Waking up for work at 5 a.m. without inner struggle.",
          "After work: gym, then walking for groceries ‚Äî and still feeling light.",
          "When you remove the excess, steady energy appears ‚Äî no sweet swings."
        ],
        pPrecision: "No preaching. Just simple choices and carefulness ‚Äî for a calmer, cleaner life.",
        hDay: "My day is movement",
        pDay: "Movement is not sport for sport‚Äôs sake. It‚Äôs tone for body and mind: gym for strength, pilates for back and control, walking for natural stability.",
        hEssence: "What‚Äôs the point?",
        pEssence: "There‚Äôs a lot of noise. Clarity often starts with small steps. If this idea resonates ‚Äî welcome.",
        commentsTitle: "Comments",
        footerNote: `Site made today in 30 minutes. Date: ${DATE_STR}.`,
        bubble: {
          chew: "Chewing apple and grass. Sugar? No thanks. Light feels good.",
          scratch: "Sitting comfy. Scratching the udder with a hoof ‚Äî eyelashes included.",
          smile: "Smiling. You keep the course ‚Äî I keep the vibe.",
          eat: "Oh! An apple! Neatly‚Ä¶",
          idle: "Hey‚Ä¶ stuck? Let‚Äôs move. Lightness doesn‚Äôt craft itself."
        }
      },
      he: {
        dir: "rtl",
        siteTitle: "◊î◊û◊¢◊®◊õ◊™ ◊©◊ú ◊ì◊®◊ë◊ô◊ô◊©◊ß◊ô◊ü",
        siteTagline: "◊î◊ì◊®◊ö ◊©◊ú◊ô ◊ú◊ë◊î◊ô◊®◊ï◊™ üåø",
        headline: "◊î◊û◊¢◊®◊õ◊™ ◊©◊ú ◊ì◊®◊ë◊ô◊ô◊©◊ß◊ô◊ü: ◊î◊ì◊®◊ö ◊©◊ú◊ô ◊ú◊ë◊î◊ô◊®◊ï◊™ üåø",
        subhead: "◊™◊®◊í◊ï◊ú ◊©◊ß◊ò: ◊ê◊ï◊õ◊ú, ◊™◊†◊ï◊¢◊î ◊ï◊ß◊¶◊™ ◊î◊ï◊û◊ï◊® ‚Äî ◊õ◊ì◊ô ◊ú◊©◊û◊ï◊® ◊¢◊ú ◊õ◊ô◊ï◊ï◊ü.",
        hHello: "◊©◊ú◊ï◊ù.",
        pHello: "◊ñ◊î ◊ú◊ê ◊û◊†◊ô◊§◊°◊ò. ◊ñ◊ï ◊©◊ô◊ó◊î ◊®◊í◊ï◊¢◊î ◊¢◊ú ◊ê◊ô◊ö ◊ú◊î◊ó◊ñ◊ô◊® ◊ê◊ï◊® ◊§◊†◊ô◊û◊ô.",
        hStart: "◊ê◊ô◊ö ◊ñ◊î ◊î◊™◊ó◊ô◊ú",
        pStart: "◊§◊¢◊ù ◊î◊®◊í◊©◊™◊ô ◊û◊ò◊ï◊©◊ò◊© ‚Äî ◊õ◊ê◊ô◊ú◊ï ◊©◊õ◊ë◊™ ◊ê◊ë◊ß ◊ì◊ß◊î ◊¢◊ú ◊ñ◊õ◊ï◊õ◊ô◊™ ◊î◊û◊ï◊ì◊¢◊ï◊™. ◊ê◊†◊®◊í◊ô◊î ◊ì◊ú◊§◊î, ◊û◊¶◊ë ◊î◊®◊ï◊ó ◊î◊™◊†◊ì◊†◊ì, ◊ï◊î◊í◊ï◊£ ◊†◊©◊ê ◊û◊©◊ß◊ú ◊¢◊ï◊ì◊£. ◊î◊™◊ó◊ú◊™◊ô ◊ú◊î◊°◊ô◊® ◊ê◊™ ◊û◊î ◊©◊ô◊ï◊¶◊® ◊ê◊™ ◊î◊¢◊ï◊û◊°: ◊°◊ï◊õ◊®, ◊ú◊ó◊ù, ◊ó◊ú◊ë, ◊®◊ï◊ë ◊î◊§◊ô◊®◊ï◊™ ◊ï◊û◊ñ◊ï◊ü ◊û◊¢◊ï◊ë◊ì ‚Äî ◊ë◊®◊ï◊í◊¢ ◊ï◊ë◊ñ◊î◊ô◊®◊ï◊™.",
        hChange: "◊û◊î ◊î◊©◊™◊†◊î",
        changes: [
          "◊§◊ó◊ï◊™ ◊ó◊ï◊ú◊©◊î ◊ï◊õ◊ë◊ì◊ï◊™ ‚Äî ◊®◊ê◊© ◊ë◊î◊ô◊® ◊ô◊ï◊™◊®.",
          "◊ú◊ß◊ï◊ù ◊ú◊¢◊ë◊ï◊ì◊î ◊ë÷æ5 ◊ë◊ë◊ï◊ß◊® ◊ë◊ú◊ô ◊û◊ê◊ë◊ß ◊§◊†◊ô◊û◊ô.",
          "◊ê◊ó◊®◊ô ◊î◊¢◊ë◊ï◊ì◊î: ◊ó◊ì◊® ◊õ◊ï◊©◊® ◊ï◊ê◊ñ ◊î◊ú◊ô◊õ◊î ◊ú◊ß◊†◊ô◊ï◊™ ‚Äî ◊ï◊¢◊ì◊ô◊ô◊ü ◊ú◊î◊®◊í◊ô◊© ◊ß◊ú.",
          "◊õ◊©◊û◊°◊ô◊®◊ô◊ù ◊¢◊ï◊ì◊£, ◊û◊í◊ô◊¢◊î ◊ê◊†◊®◊í◊ô◊î ◊ô◊¶◊ô◊ë◊î ‚Äî ◊ë◊ú◊ô ◊†◊ì◊†◊ì◊ï◊™ ◊û◊™◊ï◊ß◊ï◊™."
        ],
        pPrecision: "◊ë◊ú◊ô ◊î◊ò◊§◊ï◊™. ◊®◊ß ◊ë◊ó◊ô◊®◊ï◊™ ◊§◊©◊ï◊ò◊ï◊™ ◊ï◊ñ◊î◊ô◊®◊ï◊™ ‚Äî ◊ú◊ó◊ô◊ô◊ù ◊®◊í◊ï◊¢◊ô◊ù ◊ï◊†◊ß◊ô◊ô◊ù ◊ô◊ï◊™◊®.",
        hDay: "◊î◊ô◊ï◊ù ◊©◊ú◊ô ◊î◊ï◊ê ◊™◊†◊ï◊¢◊î",
        pDay: "◊™◊†◊ï◊¢◊î ◊î◊ô◊ê ◊ú◊ê '◊°◊§◊ï◊®◊ò ◊ú◊©◊ù ◊°◊§◊ï◊®◊ò'. ◊ñ◊ï ◊™◊ó◊ñ◊ï◊ß◊î ◊ú◊í◊ï◊£ ◊ï◊ú◊®◊ê◊©: ◊õ◊ï◊ó ◊ë◊ó◊ì◊® ◊õ◊ï◊©◊®, ◊©◊ú◊ô◊ò◊î ◊ë◊í◊ë ◊¢◊ù ◊§◊ô◊ú◊ê◊ò◊ô◊°, ◊ï◊ô◊¶◊ô◊ë◊ï◊™ ◊ò◊ë◊¢◊ô◊™ ◊ë◊î◊ú◊ô◊õ◊î.",
        hEssence: "◊û◊î ◊î◊¢◊ô◊ß◊®?",
        pEssence: "◊ô◊© ◊î◊®◊ë◊î ◊®◊¢◊© ◊ï◊û◊ô◊ï◊™◊®. ◊ë◊î◊ô◊®◊ï◊™ ◊û◊™◊ó◊ô◊ú◊î ◊ú◊¢◊ô◊™◊ô◊ù ◊û◊¶◊¢◊ì◊ô◊ù ◊ß◊ò◊†◊ô◊ù. ◊ê◊ù ◊ñ◊î ◊û◊ì◊ë◊® ◊ê◊ú◊ô◊õ◊ù ‚Äî ◊ë◊®◊ï◊õ◊ô◊ù ◊î◊ë◊ê◊ô◊ù.",
        commentsTitle: "◊™◊í◊ï◊ë◊ï◊™",
        footerNote: `◊î◊ê◊™◊® ◊†◊ë◊†◊î ◊î◊ô◊ï◊ù ◊ë÷æ30 ◊ì◊ß◊ï◊™. ◊™◊ê◊®◊ô◊ö: ${DATE_STR}.`,
        bubble: {
          chew: "◊ú◊ï◊¢◊°◊™ ◊™◊§◊ï◊ó ◊ï◊¢◊©◊ë. ◊°◊ï◊õ◊®? ◊ú◊ê ◊™◊ï◊ì◊î. ◊ß◊ú ‚Äî ◊ò◊ï◊ë.",
          scratch: "◊ô◊ï◊©◊ë◊™ ◊ë◊†◊ï◊ó. ◊û◊í◊®◊ì◊™ ◊ê◊™ ◊î◊¢◊ò◊ô◊ü ◊ë◊§◊®◊°◊î ‚Äî ◊¢◊ù ◊®◊ô◊°◊ô◊ù.",
          smile: "◊û◊ó◊ô◊ô◊õ◊™. ◊ê◊™◊ù ◊û◊ó◊ñ◊ô◊ß◊ô◊ù ◊õ◊ô◊ï◊ï◊ü ‚Äî ◊ê◊†◊ô ◊û◊ó◊ñ◊ô◊ß◊î ◊û◊¶◊ë ◊®◊ï◊ó.",
          eat: "◊î◊ï! ◊™◊§◊ï◊ó! ◊ë◊¢◊ì◊ô◊†◊ï◊™‚Ä¶",
          idle: "◊î◊ô◊ô‚Ä¶ ◊†◊™◊ß◊¢◊™◊ù? ◊ë◊ï◊ê◊ï ◊†◊ñ◊ï◊ñ. ◊ß◊ú◊ô◊ú◊ï◊™ ◊ú◊ê ◊†◊ï◊¶◊®◊™ ◊ú◊ë◊ì."
        }
      }
    };

    const root = document.documentElement;
    const langButtons = document.querySelectorAll(".lang button");
    const footerNote = document.getElementById("footerNote");

    function applyLang(lang){
      const dict = i18n[lang] || i18n.ru;
      root.lang = lang;
      root.dir = dict.dir;
      root.setAttribute("dir", dict.dir);

      langButtons.forEach(b => b.classList.toggle("active", b.dataset.lang === lang));

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(dict[key] != null) el.textContent = dict[key];
      });

      document.querySelectorAll("[data-i18n-list='changes']").forEach(ul=>{
        ul.innerHTML = "";
        dict.changes.forEach(item=>{
          const li = document.createElement("li");
          li.textContent = item;
          ul.appendChild(li);
        });
      });

      footerNote.textContent = dict.footerNote;
      setBubbleText(currentState);
    }

    langButtons.forEach(btn => btn.addEventListener("click", () => applyLang(btn.dataset.lang)));

    (function hydrateCusdis(){
      const el = document.getElementById("cusdis_thread");
      if(!el) return;
      try{
        el.setAttribute("data-page-id", location.pathname || "home");
        el.setAttribute("data-page-url", location.href);
        el.setAttribute("data-page-title", document.title || "–°–∏—Å—Ç–µ–º–∞ –î–µ—Ä–µ–≤—è—à–∫–∏–Ω–∞");
      }catch(e){}
    })();

    const cowWrap = document.getElementById("cowWrap");
    const cowSvg = document.getElementById("cowSvg");
    const bubble = document.getElementById("bubble");
    const apples = ["apple1","apple2","apple3"].map(id => document.getElementById(id)).filter(Boolean);

    const states = ["chew","scratch","smile"];
    let stateIndex = 0;
    let currentState = states[stateIndex];

    const walk = {
      rightHome: 0.82,
      nearTree: 0.16,
      center: 0.50
    };
    let cowX = walk.rightHome;

    function setCowState(state){
      cowWrap.classList.remove("isChew","isScratch","isSmile","isWalk");
      if(state === "chew") cowWrap.classList.add("isChew");
      if(state === "scratch") cowWrap.classList.add("isScratch");
      if(state === "smile") cowWrap.classList.add("isSmile");
      currentState = state;
      setBubbleText(state);
    }

    function setBubbleText(state, overrideText=null){
      const dict = i18n[root.lang] || i18n.ru;
      bubble.textContent = overrideText || (dict.bubble[state] || "");
    }

    function showBubbleAtCow(ms=2800){
      const rect = cowWrap.getBoundingClientRect();
      bubble.style.display = "block";

      const bw = bubble.offsetWidth;
      const maxLeft = window.innerWidth - bw - 12;
      let left = rect.left + rect.width*0.10;
      left = Math.max(12, Math.min(maxLeft, left));

      bubble.style.left = left + "px";
      bubble.style.right = "auto";
      bubble.style.bottom = (window.innerHeight - rect.top + 12) + "px";

      clearTimeout(showBubbleAtCow._t);
      showBubbleAtCow._t = setTimeout(()=>{ bubble.style.display = "none"; }, ms);
    }

    function setFacing(targetFrac){
      const goingLeft = targetFrac < cowX;
      const sx = goingLeft ? -1 : 1;
      cowSvg.style.transform = `scaleX(${sx}) scale(1)`;
    }

    function moveCowTo(frac){
      setFacing(frac);
      cowWrap.classList.add("isWalk");
      const x = Math.round(window.innerWidth * frac) - Math.round(cowWrap.offsetWidth/2);
      cowWrap.style.transform = "translateX(" + x + "px)";
      clearTimeout(moveCowTo._t);
      moveCowTo._t = setTimeout(()=> cowWrap.classList.remove("isWalk"), 1100);
      cowX = frac;
    }

    function animateEatApple(){
      if(!apples.length) return;
      const a = apples[Math.floor(Math.random() * apples.length)];
      if(a._busy) return;
      a._busy = true; /* FIX: —Ä–∞–Ω—å—à–µ –±—ã–ª–æ True = true –∏ —ç—Ç–æ –ª–æ–º–∞–ª–æ —Å–∫—Ä–∏–ø—Ç */
      const anim = a.animate(
        [
          { transform: "translate(0,0)", opacity: 1 },
          { transform: "translate(0,38px) scale(0.9)", opacity: 0 }
        ],
        { duration: 900, easing: "ease-in" }
      );
      anim.onfinish = () => {
        a.style.opacity = "0";
        setTimeout(()=>{
          a.style.opacity = "1";
          a._busy = false;
        }, 1800);
      };
    }

    function roamOnce(){
      const target = (Math.random() < 0.55) ? walk.nearTree : walk.rightHome;
      moveCowTo(target);

      if(target === walk.nearTree){
        const dict = i18n[root.lang] || i18n.ru;
        setBubbleText("eat", dict.bubble.eat);
        showBubbleAtCow(2200);
        animateEatApple();
        setTimeout(()=>{
          stateIndex = 0;
          setCowState("chew");
          showBubbleAtCow(2200);
        }, 900);
      }
    }

    cowWrap.addEventListener("click", ()=>{
      stateIndex = (stateIndex + 1) % states.length;
      setCowState(states[stateIndex]);
      showBubbleAtCow(3000);
      resetIdle();
    });

    let idleTimer = null;
    function resetIdle(){
      clearTimeout(idleTimer);
      idleTimer = setTimeout(()=>{
        moveCowTo(walk.center);
        setCowState("smile");
        const dict = i18n[root.lang] || i18n.ru;
        setBubbleText("idle", dict.bubble.idle);
        showBubbleAtCow(5200);
        setTimeout(()=>{
          moveCowTo(walk.rightHome);
          setCowState("chew");
        }, 5600);
      }, 24000);
    }

    ["mousemove","scroll","keydown","touchstart","click"].forEach(ev=>{
      document.addEventListener(ev, resetIdle, {passive:true});
    });

    function initPositions(){
      cowX = walk.rightHome;
      cowSvg.style.transform = "scaleX(-1) scale(1)";
      const x = Math.round(window.innerWidth * walk.rightHome) - Math.round(cowWrap.offsetWidth/2);
      cowWrap.style.transform = "translateX(" + x + "px)";
    }
    window.addEventListener("resize", initPositions);

    applyLang("ru");
    setCowState("chew");
    initPositions();
    setInterval(roamOnce, 11000);
    resetIdle();
  </script>
</body>
</html>
